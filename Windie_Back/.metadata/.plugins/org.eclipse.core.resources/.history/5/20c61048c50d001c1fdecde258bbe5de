package util;

import java.util.ArrayList;
import java.util.List;

public class TokenManager {

	private List<Token> tokens;
	private static TokenManager instance;
	
	public TokenManager() {
			
		tokens = new ArrayList<Token>();
	}
	
	public static TokenManager getInstance() {
		
		if(instance == null) {
			
			instance = new TokenManager();
		}
		
		return instance;
	}
	
	public String GenerateToken(String user) {
		
		for (Token token : tokens) {
			
			if(token.getUser().equals(user)) {
				
				token.setToken(GenerateTokenNumber());
				return token.getToken();
			}
		}
		
		Token newToken = new Token(GenerateTokenNumber(),user);
		tokens.add(newToken);
		return newToken.getToken();
	}
	
	public boolean AuthToken(String tokenAuth) {
		
		for (Token token : tokens) {
			
			if(token.getToken().equals(tokenAuth)) {
				GenerateToken(token.getUser());
				return true;
			}
		}	
		
		return false;
	}
	
	private String GenerateTokenNumber() {
		
		return "tokenHash";
	}
}
